array=[-18, 329; -18, 332; -18, 334; -18, 336; -18, 338; -18, 340; -18, 342; -18, 345; -18, 347; -18, 349; -18, 351; -18, 354; -18, 356; -18, 358; -19, 0; -18, 3; -19, 5; -19, 7; -19, 10; -19, 12; -20, 15; -20, 17; -20, 20; -21, 22; -21, 25; -20, 27; -20, 30; -20, 32; -19, 35; -20, 37; -19, 39; -19, 42; -18, 44; -19, 46; -19, 49; -19, 51; -18, 53; -18, 56; -18, 58; -19, 60; -19, 62; -18, 65; -18, 67; -18, 69; -18, 71; -18, 73; -18, 76; -18, 78; -18, 80; -18, 82; -18, 84; -18, 87; -18, 89; -18, 91; -18, 93; -18, 95; -18, 97; -18, 100; -18, 102; -18, 104; -18, 106; -18, 108; -18, 111; -18, 113; -18, 115; -18, 117; -18, 120; -18, 122; -19, 124; -19, 126; -19, 129; -19, 131; -19, 134; -19, 136; -20, 138; -20, 141; -21, 143; -21, 146; -21, 148; -21, 151; -21, 154; -21, 156; -20, 159; -20, 161; -20, 164; -21, 166; -21, 169; -21, 171; -20, 174; -20, 176; -20, 179; -20, 181; -20, 184; -20, 186; -20, 189; -20, 191; -20, 193; -19, 196; -20, 198; -19, 201; -19, 203; -19, 205; -19, 208; -19, 210; -18, 212; -19, 215; -18, 217; -18, 219; -19, 221; -18, 224; -19, 226; -18, 228; -18, 231; -18, 233; -19, 235; -19, 237; -19, 240; -18, 242; -19, 244; -19, 247; -19, 249; -19, 251; -19, 254; -19, 256; -19, 258; -19, 261; -20, 263; -21, 266; -20, 268; -21, 271; -21, 274; -21, 276; -22, 279; -22, 281; -21, 284; -21, 287; -21, 289; -22, 292; -22, 295; -22, 297; -21, 300; -21, 303; -21, 305; -21, 308; -21, 311; -21, 313; -19, 315; -19, 318; -18, 320; -19, 322; -18, 325; -17, 327; -16, 329; -16, 331; -16, 333; -15, 334; -15, 336; -14, 338; -13, 340; -13, 342; -14, 343; -13, 345; -13, 346; -12, 348; -12, 350; -12, 351; -12, 353; -12, 354; -12, 356; -11, 357; -12, 358; -11, 0; -12, 1; -11, 3; -11, 4; -11, 5; -11, 7; -11, 8; -11, 9; -10, 11; -10, 12; -10, 13; -9, 15; -9, 16; -9, 17; -9, 18; -8, 19; -7, 20; -6, 21; -6, 21; -6, 22; -4, 23; -4, 23; -3, 24; -2, 24; -2, 24; -1, 24; 0, 24; 0, 24; 1, 24; 1, 24; 2, 24; 3, 23; 4, 23; 4, 22; 6, 21; 6, 21; 7, 20; 7, 19; 7, 18; 8, 17; 9, 16; 9, 15; 10, 13; 10, 12; 11, 11; 11, 9; 12, 8; 12, 6; 13, 5; 13, 3; 13, 1; 13, 0; 13, 358; 13, 357; 13, 355; 13, 353; 13, 352; 13, 350; 13, 348; 13, 347; 13, 345; 13, 343; 14, 342; 15, 340; 15, 338; 15, 336; 15, 334; 16, 332; 16, 330; 17, 328; 18, 326; 18, 324; 19, 321; 19, 319; 19, 317; 21, 314; 21, 311; 21, 309; 21, 306; 21, 304; 22, 301; 22, 298; 23, 295; 23, 293; 22, 290; 22, 287; 22, 285; 22, 282; 22, 279; 21, 277; 21, 274; 21, 271; 21, 269; 22, 266; 22, 263; 22, 261; 22, 258; 22, 255; 22, 252; 23, 250; 23, 247; 23, 244; 23, 241; 24, 238; 24, 235; 24, 233; 24, 230; 24, 227; 24, 224; 24, 221; 24, 218; 24, 215; 24, 212; 24, 209; 24, 206; 24, 203; 25, 200; 25, 197; 24, 194; 24, 191; 24, 188; 24, 185; 24, 183; 24, 180; 24, 177; 23, 174; 22, 171; 22, 169; 22, 166; 21, 163; 21, 161; 20, 158; 20, 156; 19, 153; 19, 151; 19, 149; 18, 146; 18, 144; 18, 142; 18, 140; 18, 138; 17, 136; 17, 134; 16, 131; 16, 129; 16, 127; 16, 125; 16, 123; 15, 122; 16, 120; 15, 118; 16, 116; 15, 114; 15, 112; 14, 110; 15, 109; 14, 107; 14, 105; 13, 103; 13, 102; 12, 100; 12, 99; 12, 97; 12, 96; 11, 95; 11, 93; 10, 92; 10, 91; 10, 89; 10, 88; 10, 87; 10, 85; 10, 84; 10, 83; 10, 82; 10, 80; 9, 79; 10, 78; 10, 77; 9, 75; 9, 74; 9, 73; 9, 72; 9, 71; 8, 70; 8, 69; 7, 68; 7, 67; 7, 66; 7, 65; 6, 65; 7, 64; 7, 63; 7, 62; 7, 61; 6, 60; 6, 60; 6, 59; 4, 58; 4, 58; 3, 57; 3, 57; 3, 56; 1, 56; 1, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 0, 56; 1, 56; 1, 56; 1, 55; 1, 55; 2, 55; 3, 54; 3, 54; 4, 53; 5, 53; 5, 52; 6, 51; 7, 50; 7, 49; 8, 48; 9, 47; 9, 46; 9, 45; 10, 44; 10, 42; 12, 41; 12, 39; 12, 38; 13, 36; 14, 34; 14, 33; 15, 31; 15, 29; 15, 27; 15, 25; 16, 23; 16, 21; 17, 19; 17, 17; 18, 15; 18, 12; 19, 10; 19, 8; 19, 5; 19, 3; 19, 1; 20, 358; 21, 356; 21, 353; 21, 350; 22, 348; 22, 345; 23, 342; 23, 339; 24, 336; 24, 333; 24, 330; 25, 327; 26, 324; 26, 321; 26, 318; 27, 315; 27, 311; 27, 308; 27, 305; 28, 301; 28, 298; 29, 294; 28, 291; 29, 287; 29, 284; 29, 280; 30, 276; 30, 273; 30, 269; 30, 266; 30, 262; 30, 258; 29, 255; 29, 251; 27, 248; 28, 245; 27, 241; 26, 238; 26, 235; 25, 232; 24, 229; 24, 226; 24, 223; 24, 220; 23, 217; 22, 215; 21, 212; 22, 209; 21, 207; 20, 204; 19, 202; 19, 199; 18, 197; 19, 195; 18, 193; 18, 191; 17, 188; 16, 186; 17, 184; 16, 182; 16, 180; 15, 179; 15, 177];

t_bwMeasurements = 10e-3;
sizeArray = size(array);
columns = sizeArray(1);

speedsCompare = zeros(size(array));


for i=2:columns(1)
    speedsCompare(i-1,1) = array(i-1,1);
    % array measurements are in deg. To go from deg to rpm --> 
    % (deltaDeg / 10e-3s) * 60s/min * 1rev/360deg.
    speedsCompare(i-1,2) = -(60/360) * (array(i,2) - array(i-1,2)) / t_bwMeasurements;
end

filteredSpeed = speedsCompare(:,2);
filteredSpeed = filter(filteredSpeed,100,1);

plot(speedsCompare(:,1));
hold on
plot(speedsCompare(:,2));
%plot(filteredSpeed);
axis([0 350 -50 50])